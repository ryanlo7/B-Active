<head>
    <title>B-Active - Events</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>

<div class="container-fluid well">
    <h1>Events</h1>
    <div *ngIf="events">
    <h2>Confirmed Events</h2>
        <div *ngFor="let event of events">
            <div class="row">
                <div class="col-sm-6">
                    <div class="eventBox">
                    <div class="darkBox" width="300" height="200"></div>
                    <div class="eventInfo">
                        <div style="font-size: 18pt;">{{ event.activity }}</div>
                    </div>
                    <img src={{getActivityUrl(event.activity)}} width="300" height="200">
                    </div>
                </div>
                <div class="col-sm-6">
                    <table class="table table-bordered">
                        <tr>
                            <td>Participants</td>
                            <td><span *ngFor="let id of event.invitedIds">{{ getUserName(id) }}<br /></span></td>
                        </tr>
                        <tr>
                            <td>Start Time</td>
                            <td>{{ event.startTime | date: 'd MMM yyyy' }}, {{ event.startTime | date: 'hh:mm a' }}</td>
                        </tr>
                        <tr>
                            <td>End Time</td>
                            <td>{{ event.endTime | date: 'd MMM yyyy' }}, {{ event.endTime | date: 'hh:mm a' }}</td>
                        </tr>
                        <tr>
                            <td>Location</td>
                            <td>{{ event.location }}</td>
                        </tr>
                    </table>
                </div>
                <div class="row">
                    <table>
                        <tr *ngFor="let otherId of event.invitedIds">
                            <td>
                                {{ getUserName(otherId) }}
                            </td>
                            <td><select [(ngModel)]="ratings[event.eventId.toString() + ' ' + otherId.toString()]">
                                <option *ngFor="let x of ratingScale" [selected]="ratings[event.eventId.toString() + ' ' + otherId.toString()] == x">
                                {{x}}</option>
                            </select></td>
                            <td><button class="btn btn-default" (click)="rateUser(otherId, event.eventId, ratings[event.eventId.toString() + ' ' + otherId.toString()])"> Rate User </button></td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

    </div>


</div>
